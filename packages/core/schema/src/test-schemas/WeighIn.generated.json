{
  "$defs": {
    "Feeling": {
      "title": "Feeling",
      "description": "User's subjective feeling at the time of weigh-in.\n\nEnum members descriptions:\n\n- GREAT: undefined\n- GOOD: undefined\n- NEUTRAL: undefined\n- BAD: undefined\n- TERRIBLE: undefined",
      "type": "string",
      "enum": [
        "GREAT",
        "GOOD",
        "NEUTRAL",
        "BAD",
        "TERRIBLE"
      ]
    },
    "ProtoFile": {
      "title": "ProtoFile",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "File name + extension.",
          "examples": [
            "book.pdf"
          ]
        },
        "mimeType": {
          "type": "string"
        },
        "content": {
          "type": "string",
          "description": "The binary content of the file, in base64."
        }
      },
      "required": [
        "name",
        "mimeType",
        "content"
      ],
      "additionalProperties": false
    },
    "FileRef": {
      "title": "ProtoFile",
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string",
          "description": "File name + extension.",
          "examples": [
            "book.pdf"
          ]
        },
        "mimeType": {
          "type": "string"
        }
      },
      "required": [
        "id",
        "name",
        "mimeType"
      ],
      "additionalProperties": false
    }
  },
  "title": "WeighIn",
  "description": "Represents a single weigh-in event for the user.",
  "type": "object",
  "properties": {
    "timestamp": {
      "description": "When the weigh-in occurred.\n\nFormat `dev.superego:String.Instant`:\n\nAn exact point in time in the ISO8601 format, in \"Zulu time\", with millisecond precision.",
      "examples": [
        "2006-08-24T19:39:09.000Z",
        "2006-08-24T19:39:09.068Z"
      ],
      "type": "string"
    },
    "weightKg": {
      "description": "Weight in kilograms.",
      "type": "number"
    },
    "bodyFatPercentage": {
      "description": "Body fat percentage.",
      "type": [
        "number",
        "null"
      ]
    },
    "muscleMassKg": {
      "description": "Muscle mass in kilograms.",
      "type": [
        "number",
        "null"
      ]
    },
    "measurementDevice": {
      "description": "Device used for measurement.",
      "type": "string",
      "const": "SmartScale V3 Pro"
    },
    "feeling": {
      "anyOf": [
        {
          "$ref": "#/$defs/Feeling"
        },
        {
          "type": "null"
        }
      ]
    },
    "progressPhoto": {
      "description": "Optional photo taken at the time of weigh-in.",
      "anyOf": [
        {
          "$ref": "#/$defs/ProtoFile"
        },
        {
          "$ref": "#/$defs/FileRef"
        },
        {
          "type": "null"
        }
      ]
    },
    "notes": {
      "type": [
        "string",
        "null"
      ]
    }
  },
  "additionalProperties": false,
  "required": [
    "timestamp",
    "weightKg",
    "bodyFatPercentage",
    "muscleMassKg",
    "measurementDevice",
    "feeling",
    "progressPhoto",
    "notes"
  ]
}